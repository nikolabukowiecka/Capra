(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Wolfram 14.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       154,          7]
NotebookDataLength[      8673,        192]
NotebookOptionsPosition[      7760,        172]
NotebookOutlinePosition[      8155,        188]
CellTagsIndexPosition[      8112,        185]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[{
 RowBox[{
  RowBox[{"baseDir", " ", "=", " ", 
   RowBox[{"Which", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"$MachineName", " ", "\[Equal]", "\"\<MacBookPro\>\""}], ",", 
     " ", 
     RowBox[{"{", "\"\</Users/nikolabukowiecka/Documents/Capra\>\"", "}"}]}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"healpixDir", " ", "=", " ", 
   RowBox[{"ToFileName", "[", 
    RowBox[{"baseDir", ",", "\"\<healpix\>\""}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ibexDataDir", " ", "=", " ", 
   RowBox[{"ToFileName", "[", 
    RowBox[{"baseDir", ",", "\"\<ibex\>\""}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ibexDataName", "=", "\"\<Map2018A_1deg_binned\>\""}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"spinAxDir", "=", 
   RowBox[{"ToFileName", "[", 
    RowBox[{"ibexDataDir", ",", " ", "\"\<goodTimes_Axis\>\""}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"outputDir", " ", "=", " ", 
   RowBox[{"ToFileName", "[", 
    RowBox[{"baseDir", ",", " ", "\"\<output\>\""}], "]"}]}], ";"}]}], "Input",\

 CellChangeTimes->{{3.857892236794358*^9, 3.857892280426411*^9}, {
   3.857892462470665*^9, 3.857892464947736*^9}, {3.85875127343089*^9, 
   3.858751307096215*^9}, {3.869205710603828*^9, 3.869205712776311*^9}, 
   3.869205863863531*^9, {3.869205926828292*^9, 3.869205929458572*^9}, {
   3.869215761554949*^9, 3.869215763029582*^9}, 3.879323817185485*^9, {
   3.887177714699074*^9, 3.887177724644065*^9}, 3.8910577906135397`*^9, {
   3.915483388764922*^9, 3.915483390843832*^9}, {3.951660917195335*^9, 
   3.951660919317699*^9}, {3.951668481942416*^9, 3.951668482450834*^9}, {
   3.951670031029915*^9, 3.951670042865576*^9}, {3.951670139246717*^9, 
   3.951670139452889*^9}, {3.951670342185798*^9, 3.951670392632017*^9}, 
   3.9516704517144537`*^9, 3.951671123751107*^9, {3.951671195629028*^9, 
   3.9516712065380783`*^9}, {3.951683852582837*^9, 3.951683853442306*^9}, 
   3.951767934710969*^9, {3.967892518401018*^9, 3.9678925719638987`*^9}, 
   3.9682450108194838`*^9, {3.968327637520894*^9, 3.9683276504144087`*^9}, 
   3.96833295055904*^9, {3.96833306991229*^9, 3.968333075228182*^9}, {
   3.968333126087577*^9, 3.968333192708824*^9}, {3.9684259618175173`*^9, 
   3.968425965018116*^9}, {3.968497561657456*^9, 3.968497566266268*^9}, {
   3.971792443984988*^9, 3.971792446700526*^9}, {3.971792508501853*^9, 
   3.971792514733378*^9}, 3.9721342909906073`*^9, {3.972161994897573*^9, 
   3.972162001040526*^9}},
 CellLabel->
  "In[173]:=",ExpressionUUID->"f2ea872b-e046-4162-b547-5ed2572e3d95"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Import", "[", 
   RowBox[{"baseDir", "<>", "\"\</geometricPackage.wl\>\""}], "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"Import", "[", 
   RowBox[{"baseDir", "<>", "\"\</mapCreationPackage.wl\>\""}], "]"}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.951767942309513*^9, 3.95176794257372*^9}, {
   3.971793850442457*^9, 3.971793875093253*^9}, 3.971793923057015*^9, {
   3.972134623463113*^9, 3.972134624248877*^9}},
 CellLabel->
  "In[289]:=",ExpressionUUID->"47ffa62c-f9d6-4a65-bb33-cdf9587ed759"],

Cell[BoxData[
 RowBox[{
  RowBox[{"LaunchKernels", "[", "8", "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.955466111074675*^9, 3.955466114185379*^9}, 
   3.967892596329185*^9},
 CellLabel->
  "In[181]:=",ExpressionUUID->"5ccee6c9-b310-4dfb-a3c7-6b6476e496e4"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ibexHi", "=", 
   RowBox[{"loadData", "[", 
    RowBox[{
    "baseDir", ",", "ibexDataDir", ",", "ibexDataName", ",", "spinAxDir", ",",
      "outputDir"}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{
  3.951671260558386*^9, {3.951671360189296*^9, 3.951671360853774*^9}, {
   3.951678695233768*^9, 3.951678695342558*^9}, 3.951678813143724*^9, 
   3.9682500631042757`*^9, 3.96842450563706*^9, {3.96849757100152*^9, 
   3.96849757202341*^9}},
 CellLabel->
  "In[182]:=",ExpressionUUID->"d8c34e64-75a6-4fdb-aef7-555f5d51860f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"scanRadius", " ", "=", " ", "90"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"colRadius", " ", "=", "6.5"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"tesselation", "=", "16"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"energyStep", "=", "6"}], ";"}]}], "Input",
 CellChangeTimes->{{3.951678701508566*^9, 3.951678737271407*^9}, {
   3.9516788828389993`*^9, 3.951678929611484*^9}, {3.951678969280577*^9, 
   3.951678989492146*^9}, 3.9517679493519163`*^9, {3.967892610745229*^9, 
   3.967892619021265*^9}, {3.967913086686329*^9, 3.9679130879682903`*^9}, {
   3.968245030191819*^9, 3.968245030292595*^9}, {3.968258143169723*^9, 
   3.968258143257266*^9}, {3.96832765634424*^9, 3.968327656724724*^9}, {
   3.968411006635406*^9, 3.968411006767058*^9}, {3.9684117499719267`*^9, 
   3.96841175054101*^9}, {3.971792454278701*^9, 3.971792475965167*^9}, {
   3.971792528463361*^9, 3.97179252854941*^9}, {3.97179263134556*^9, 
   3.971792631718321*^9}, {3.971798554596156*^9, 3.971798557088067*^9}, {
   3.972079990341669*^9, 3.972079991612163*^9}, {3.9720810953091297`*^9, 
   3.9720810972710943`*^9}, {3.972134280267959*^9, 3.9721342803541527`*^9}, {
   3.972162042981701*^9, 3.972162043155507*^9}, {3.972162089367977*^9, 
   3.972162089637761*^9}, {3.972162214812505*^9, 3.972162245453487*^9}, {
   3.9724330412628117`*^9, 3.9724330415751543`*^9}, {3.972433628559339*^9, 
   3.972433628799945*^9}, {3.972433947168106*^9, 3.9724339768382483`*^9}, {
   3.972434149143264*^9, 3.972434149488276*^9}, {3.9787090926578703`*^9, 
   3.978709099284227*^9}, {3.978710123872369*^9, 3.978710124194001*^9}},
 CellLabel->
  "In[291]:=",ExpressionUUID->"98d8989a-a22b-4109-8497-ba434795a817"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "mapCountsMain", ",", " ", "mapExposuresMain", ",", " ", "mapSignalMain", 
     ",", "mapRatesMain", ",", "mapENAFluxMain"}], "}"}], "=", 
   RowBox[{
    RowBox[{"run", "[", 
     RowBox[{"ibexHi", ",", " ", "healpixDir", ",", 
      RowBox[{"\"\<smoothing\>\"", "->", "\"\<Gaussian\>\""}]}], "]"}], "[", 
    RowBox[{"[", "2", "]"}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.951671454748105*^9, 3.95167146326074*^9}, {
   3.951768017604703*^9, 3.951768025689612*^9}, 3.967893940611416*^9, {
   3.967894100519889*^9, 3.967894109964938*^9}, 3.967894186740394*^9, {
   3.9682450338045597`*^9, 3.968245036592019*^9}, {3.968333383137238*^9, 
   3.9683333874638357`*^9}, {3.9683381671765947`*^9, 3.968338167507537*^9}, {
   3.968424511522265*^9, 3.968424512036911*^9}, 3.971792486461638*^9, {
   3.978711347910627*^9, 3.978711356467247*^9}, 3.9787135082265577`*^9},
 CellLabel->
  "In[369]:=",ExpressionUUID->"c32e8981-83d7-4c2f-889c-6670bbcf8502"],

Cell[BoxData[
 RowBox[{"exportData", "[", 
  RowBox[{
  "mapCountsMain", ",", "mapExposuresMain", ",", "mapSignalMain", ",", 
   "mapRatesMain", ",", "mapENAFluxMain", ",", "tesselation", ",", 
   "energyStep", ",", "outputDir"}], "]"}]], "Input",
 CellChangeTimes->{{3.95167191681955*^9, 3.951671929254396*^9}, {
   3.9682455862106733`*^9, 3.968245587300186*^9}, 3.97179249317083*^9},
 CellLabel->
  "In[370]:=",ExpressionUUID->"53053059-c57a-4268-97cb-1068d9ab8f21"]
},
WindowSize->{808, 856},
WindowMargins->{{435, Automatic}, {38, Automatic}},
FrontEndVersion->"14.2 for Mac OS X ARM (64-bit) (March 16, 2025)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"e261ea80-e99b-4514-99b2-3600281908b0"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[554, 20, 2611, 50, 151, "Input",ExpressionUUID->"f2ea872b-e046-4162-b547-5ed2572e3d95"],
Cell[3168, 72, 531, 12, 49, "Input",ExpressionUUID->"47ffa62c-f9d6-4a65-bb33-cdf9587ed759"],
Cell[3702, 86, 259, 6, 29, "Input",ExpressionUUID->"5ccee6c9-b310-4dfb-a3c7-6b6476e496e4"],
Cell[3964, 94, 560, 13, 29, "Input",ExpressionUUID->"d8c34e64-75a6-4fdb-aef7-555f5d51860f"],
Cell[4527, 109, 1735, 28, 90, "Input",ExpressionUUID->"98d8989a-a22b-4109-8497-ba434795a817"],
Cell[6265, 139, 1020, 20, 49, "Input",ExpressionUUID->"c32e8981-83d7-4c2f-889c-6670bbcf8502"],
Cell[7288, 161, 468, 9, 49, "Input",ExpressionUUID->"53053059-c57a-4268-97cb-1068d9ab8f21"]
}
]
*)

